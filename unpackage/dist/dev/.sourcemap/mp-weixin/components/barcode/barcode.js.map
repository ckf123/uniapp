{"version":3,"sources":[null,"webpack:///E:/个人学习/uView_default/components/barcode/barcode.vue?ee4e","webpack:///E:/个人学习/uView_default/components/barcode/barcode.vue?2ba1","webpack:///E:/个人学习/uView_default/components/barcode/barcode.vue?5adf","uni-app:///components/barcode/barcode.vue","webpack:///E:/个人学习/uView_default/components/barcode/barcode.vue?9169","webpack:///E:/个人学习/uView_default/components/barcode/barcode.vue?a03f"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACuL;AACvL,gBAAgB,+LAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA2rB,CAAgB,2sBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;ACW/sB;AACA,iBADA;AAEA;AACA;AACA,kBADA;AAEA;AACA;AACA,+BADA;AAEA,iCAFA;AAGA,oBAHA;AAIA,qBAJA;AAKA,uBALA;AAMA,uBANA;AAOA,4BAPA;;AASA,OAZA;AAaA,qBAbA,EADA;;AAgBA;AACA,mBADA;AAEA,oBAFA;AAGA,qBAHA,EAhBA,EAFA;;;AAwBA,MAxBA,kBAwBA;AACA;AACA,oBADA;AAEA,mBAFA;AAGA,oBAHA;AAIA,kBAJA;AAKA,wBALA;;AAOA,GAhCA;AAiCA,cAjCA,0BAiCA;;AAEA,GAnCA,EAmCA;AACA,aApCA,yBAoCA;;AAEA,GAtCA,EAsCA;AACA,SAvCA,qBAuCA;;AAEA,GAzCA,EAyCA;AACA,cA1CA,0BA0CA;;AAEA,GA5CA,EA4CA;AACA,SA7CA,qBA6CA;;AAEA,GA/CA,EA+CA;AACA,eAhDA,2BAgDA;;AAEA,GAlDA,EAkDA;AACA,WAnDA,uBAmDA;AACA;AACA,GArDA,EAqDA;AACA,SAtDA,qBAsDA;AACA;AACA,GAxDA,EAwDA;AACA,aAzDA,E;;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAqwC,CAAgB,6tCAAG,EAAC,C;;;;;;;;;;;ACAzxC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/barcode/barcode.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./barcode.vue?vue&type=template&id=1a111106&\"\nvar renderjs\nimport script from \"./barcode.vue?vue&type=script&lang=js&\"\nexport * from \"./barcode.vue?vue&type=script&lang=js&\"\nimport style0 from \"./barcode.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/barcode/barcode.vue\"\nexport default component.exports","export * from \"-!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./barcode.vue?vue&type=template&id=1a111106&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./barcode.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./barcode.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"barcode\" v-if=\"isShow\">\r\n\t\t\t<icon @click=\"openFlash\" class=\"iconfont icon-shoudiantongkai\"></icon>\r\n\t\t\t<icon @click=\"cancelScan\" class=\"iconfont icon-guanbixiao\"></icon>\r\n\t\t\t<icon @click=\"getPicture()\" class=\"iconfont icon-xiangce\" v-if=\"isPicture\"></icon>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tname: \"barcode\",\r\n\t\tprops: {\r\n\t\t\tBarcodeStyles: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault:function() {\r\n\t\t\t\t\treturn{\r\n\t\t\t\t\t\tframeColor: \"#55aa00\",\r\n\t\t\t\t\t\tscanbarColor: \"#55aa00\",\r\n\t\t\t\t\t\ttop: '0px',\r\n\t\t\t\t\t\tleft: '0px',\r\n\t\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\t\theight: '80%',\r\n\t\t\t\t\t\tposition: 'static',\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\trequired: false,\r\n\t\t\t},\r\n\t\t\tisPicture: {\r\n\t\t\t\ttype: Boolean,\r\n\t\t\t\tdefault: false,\r\n\t\t\t\trequired: false,\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbarcode1: null,\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tisFlash: false,\r\n\t\t\t\tresult:null,\r\n\t\t\t\tcurrentWebview:\"\"\r\n\t\t\t};\r\n\t\t},\r\n\t\tbeforeCreate() {\r\n\t\t\t\r\n\t\t},//实例初始化后调用\r\n\t\tbeforeMount() {\r\n\t\t\t\r\n\t\t},//挂在开始之前\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t},//实例挂载后无法确定子组件挂载完成\r\n\t\tbeforeUpdate() {\r\n\t\t\t\r\n\t\t},//数据DOM渲染之前\r\n\t\tupdated() {\r\n\t\t\t\r\n\t\t},//数据DOM渲染完成\r\n\t\tbeforeDestroy() {\r\n\t\t\t\r\n\t\t},//被销毁之前\r\n\t\tdestroyed() {\r\n\t\t\tuni.$off('startScan')\r\n\t\t},//实例销毁\r\n\t\tcreated() {\t\r\n\t\t\tuni.$on('startScan', this.startScan);\r\n\t\t},//实例创建完成\r\n\t\tmethods: {\r\n\t\t\t//#ifdef APP-PLUS\r\n\t\t\tonmarked(type, result, file, charset) {\r\n\t\t\t\tconsole.log(type);\r\n\t\t\t\tvar text = '未知: ';\r\n\t\t\t\tswitch(type){\r\n\t\t\t\t\t\tcase plus.barcode.QR:\r\n\t\t\t\t\t\ttext = 'QR: ';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase plus.barcode.EAN13:\r\n\t\t\t\t\t\ttext = 'EAN13: ';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase plus.barcode.EAN8:\r\n\t\t\t\t\t\ttext = 'EAN8: ';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t};\r\n\t\t\t\tthis.result = result.replace(/\\n/g, \"\");\r\n\t\t\t\tuni.$emit(\"getBarcodeResult\",this.result);\r\n\t\t\t\t// this.$u.toast(text + this.result);\r\n\t\t\t\tconsole.log(text + this.result)\r\n\t\t\t\tconsole.log(\"文件路径\"+file);\r\n\t\t\t\tconsole.log(\"字符编码\"+charset);\r\n\t\t\t\tthis.cancelScan();//成功后关闭\r\n\t\t\t},\r\n\t\t\t//错误回调\r\n\t\t\tonerror(error) {\r\n\t\t\t\tvar code = error.code; // 错误编码\r\n\t\t\t\tvar message = error.message; //错误信息\r\n\t\t\t\tconsole.log('code' + code + 'message' + message);\r\n\t\t\t},\r\n\t\t\t//创建\r\n\t\t\tstartRecognize() {\r\n\t\t\t\tif (!this.barcode1) {\r\n\t\t\t\t\tthis.currentWebview = this.$mp.page.$getAppWebview();\r\n\t\t\t\t\t//创建扫码控件\r\n\t\t\t\t\tthis.barcode1 = plus.barcode.create('barcode', [plus.barcode.QR,plus.barcode.EAN13], this.BarcodeStyles, true);\r\n\t\t\t\t\tthis.barcode1.onmarked = this.onmarked;\r\n\t\t\t\t\tthis.barcode1.onerror = this.onerror;\r\n\t\t\t\t\tthis.currentWebview.append(this.barcode1);\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t//开始扫描\r\n\t\t\tstartScan() {\r\n\t\t\t\tthis.startRecognize(); //创建控件\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.isShow = !this.isShow;\r\n\t\t\t\t\tvar Option = {\r\n\t\t\t\t\t\tconserve: true,\r\n\t\t\t\t\t\tfilename: this.$u.utils.getTime(),\r\n\t\t\t\t\t\tvibrate: true,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tthis.barcode1.start(Option); //启动\r\n\t\t\t\t}, 2000)\r\n\t\t\t},\r\n\t\t\t//关闭扫描  关闭条码识别控件\r\n\t\t\tcancelScan() {\r\n\t\t\t\tif(this.barcode1){\r\n\t\t\t\t\tconsole.log(\"关闭扫描\");\r\n\t\t\t\t\tthis.barcode1.cancel();\r\n\t\t\t\t\t// this.barcode1.close();\r\n\t\t\t\t\t// this.barcode1=null;\r\n\t\t\t\t\tthis.isShow = !this.isShow;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tconsole.log(\"无法关闭\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//开启闪光灯\r\n\t\t\topenFlash() {\r\n\t\t\t\tconsole.log(\"控制闪光灯\");\r\n\t\t\t\tif (!this.findBarcode(\"barcode\")) return;\r\n\t\t\t\tthis.isFlash = !this.isFlash;\r\n\t\t\t\tthis.barcode1.setFlash(!this.isFlash);\r\n\t\t\t},\r\n\t\t\t//查询扫码的控件\r\n\t\t\t// 查找扫码控件\r\n\t\t\tfindBarcode(name) {\r\n\t\t\t\treturn plus.barcode.getBarcodeById(name);\r\n\t\t\t},\r\n\t\t\t//获取系统相册\r\n\t\t\tgetPicture() {\r\n\t\t\t\tvar lfs = null;\r\n\t\t\t\tplus.gallery.pick(e => {\r\n\t\t\t\t\tconsole.log(\"打开相册\");\r\n\t\t\t\t\tfor (var i in e.files) {\r\n\t\t\t\t\t\tlfs = e.files;\r\n\t\t\t\t\t\tplus.barcode.scan(e.files[i], this.onmarked, this.onerror, this.filter, true)\r\n\t\t\t\t\t\tconsole.log(e.files[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, (e) => {\r\n\t\t\t\t\tconsole.log(\"取消选择\");\r\n\t\t\t\t}, {\r\n\t\t\t\t\tfilter: \"image\", //设置可选格式\r\n\t\t\t\t\tmultiple: true, //是否支持多选\r\n\t\t\t\t\tmaximum: 3, //最大多选多少张\r\n\t\t\t\t\tsystem: false, //已废弃\r\n\t\t\t\t\tonmaxed: function() {\r\n\t\t\t\t\t\tplus.nativeUI.alert(\"最多只能选择\" + this.maximum + \"张图片\");\r\n\t\t\t\t\t}, //超过最多选择图片数量事件\r\n\t\t\t\t\tselected: lfs\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// #endif\r\n\t\t},\r\n\t\t\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.barcode {\r\n\t\twidth: 100%;\r\n\t\theight: 140rpx;\r\n\t\tposition: absolute;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-around;\r\n\t\tbottom: 0;\r\n\t\tz-index: 10;\r\n\t\ticonfont {\r\n\t\t\tfont-size: 68rpx;\r\n\t\t}\r\n\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./barcode.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\ProgramFiles\\\\QQ\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./barcode.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1635223485203\n      var cssReload = require(\"D:/ProgramFiles/QQ/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}